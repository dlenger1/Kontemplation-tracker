<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontemplationspraxis Tracker</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .card h2 {
            margin-bottom: 20px;
            color: #4a5568;
            font-weight: 500;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #4a5568;
            font-weight: 500;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .rating {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }

        .star {
            font-size: 24px;
            color: #e2e8f0;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .star.active {
            color: #ffd700;
        }

        .star:hover {
            color: #ffd700;
        }

        .timer-section {
            text-align: center;
            margin-bottom: 20px;
        }

        .timer-display {
            font-size: 3em;
            font-weight: 300;
            color: #4a5568;
            margin: 20px 0;
        }

        .timer-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: #718096;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4a5568;
            display: block;
        }

        .stat-label {
            color: #718096;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .history-section {
            grid-column: 1 / -1;
        }

        .session-entry {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid #667eea;
        }

        .session-date {
            font-weight: 500;
            color: #4a5568;
        }

        .session-details {
            margin-top: 5px;
            color: #718096;
            font-size: 0.9em;
        }

        .session-notes {
            margin-top: 10px;
            font-style: italic;
            color: #4a5568;
        }

        .quote-section {
            grid-column: 1 / -1;
            text-align: center;
            font-style: italic;
            color: #4a5568;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .timer-display {
                font-size: 2.5em;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Kontemplationspraxis</h1>
            <p>Deine tägliche Reise nach innen</p>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>Timer</h2>
                <div class="timer-section">
                    <div class="timer-display" id="timerDisplay">00:00</div>
                    <div class="timer-controls">
                        <button class="btn" id="startBtn" onclick="startTimer()">Start</button>
                        <button class="btn secondary" id="pauseBtn" onclick="pauseTimer()" style="display:none;">Pause</button>
                        <button class="btn secondary" onclick="resetTimer()">Reset</button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>Session erfassen</h2>
                <form id="sessionForm">
                    <div class="form-group">
                        <label for="duration">Dauer (Minuten)</label>
                        <input type="number" id="duration" min="1" value="20">
                    </div>
                    
                    <div class="form-group">
                        <label>Qualität der Session</label>
                        <div class="rating" id="qualityRating">
                            <span class="star" onclick="setRating(1)">★</span>
                            <span class="star" onclick="setRating(2)">★</span>
                            <span class="star" onclick="setRating(3)">★</span>
                            <span class="star" onclick="setRating(4)">★</span>
                            <span class="star" onclick="setRating(5)">★</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Notizen & Erkenntnisse</label>
                        <textarea id="notes" placeholder="Was hast du erfahren oder bemerkt?"></textarea>
                    </div>
                    
                    <button type="submit" class="btn">Session speichern</button>
                </form>
            </div>

            <div class="card">
                <h2>Übersicht</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="totalSessions">0</span>
                        <div class="stat-label">Sessions</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="currentStreak">0</span>
                        <div class="stat-label">Tage Streak</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="totalMinutes">0</span>
                        <div class="stat-label">Min. gesamt</div>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="avgQuality">-</span>
                        <div class="stat-label">Ø Qualität</div>
                    </div>
                </div>
            </div>

            <div class="card history-section">
                <h2>Letzte Sessions</h2>
                <div id="sessionHistory">
                    <p style="color: #718096; text-align: center;">Noch keine Sessions erfasst</p>
                </div>
            </div>

            <div class="quote-section">
                <p id="dailyQuote">"Die Stille ist der Raum, in dem wir uns selbst begegnen."</p>
            </div>
        </div>
    </div>

    <script>
        let timerInterval;
        let seconds = 0;
        let isRunning = false;
        let selectedRating = 0;
        let sessions = [];

        const quotes = [
            "Die Stille ist der Raum, in dem wir uns selbst begegnen.",
            "In der Tiefe der Betrachtung finden wir unsere wahre Natur.",
            "Jeder Moment der Kontemplation ist ein Geschenk an dich selbst.",
            "Die Wahrheit liegt nicht in den Worten, sondern in der Stille zwischen ihnen.",
            "Kontemplation ist die Kunst, im Gegenwärtigen zu ruhen."
        ];

        // Timer Funktionen
        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                document.getElementById('startBtn').style.display = 'none';
                document.getElementById('pauseBtn').style.display = 'inline-block';
                
                timerInterval = setInterval(() => {
                    seconds++;
                    updateTimerDisplay();
                }, 1000);
            }
        }

        function pauseTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timerInterval);
                document.getElementById('startBtn').style.display = 'inline-block';
                document.getElementById('pauseBtn').style.display = 'none';
                
                // Timer-Zeit automatisch ins Dauer-Feld übernehmen
                const minutes = Math.floor(seconds / 60);
                if (minutes > 0) {
                    document.getElementById('duration').value = minutes;
                }
            }
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            seconds = 0;
            updateTimerDisplay();
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
        }

        function updateTimerDisplay() {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('timerDisplay').textContent = 
                `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Rating Funktionen
        function setRating(rating) {
            selectedRating = rating;
            const stars = document.querySelectorAll('.star');
            stars.forEach((star, index) => {
                star.classList.toggle('active', index < rating);
            });
        }

        // Session speichern
        document.getElementById('sessionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const duration = parseInt(document.getElementById('duration').value);
            const notes = document.getElementById('notes').value;
            
            if (selectedRating === 0) {
                alert('Bitte bewerte deine Session!');
                return;
            }
            
            const session = {
                date: new Date().toISOString(),
                duration: duration,
                quality: selectedRating,
                notes: notes
            };
            
            sessions.unshift(session);
            updateStats();
            updateHistory();
            
            // Form zurücksetzen
            document.getElementById('notes').value = '';
            setRating(0);
            resetTimer();
            
            alert('Session gespeichert!');
        });

        // Statistiken aktualisieren
        function updateStats() {
            document.getElementById('totalSessions').textContent = sessions.length;
            
            const totalMinutes = sessions.reduce((sum, s) => sum + s.duration, 0);
            document.getElementById('totalMinutes').textContent = totalMinutes;
            
            if (sessions.length > 0) {
                const avgQuality = (sessions.reduce((sum, s) => sum + s.quality, 0) / sessions.length).toFixed(1);
                document.getElementById('avgQuality').textContent = avgQuality;
                
                // Streak berechnen
                let streak = 0;
                const today = new Date().toDateString();
                let checkDate = new Date();
                
                for (let session of sessions) {
                    const sessionDate = new Date(session.date).toDateString();
                    const checkDateStr = checkDate.toDateString();
                    
                    if (sessionDate === checkDateStr) {
                        streak++;
                        checkDate.setDate(checkDate.getDate() - 1);
                    } else if (sessionDate < checkDateStr) {
                        break;
                    }
                }
                
                document.getElementById('currentStreak').textContent = streak;
            }
        }

        // Session History aktualisieren
        function updateHistory() {
            const historyDiv = document.getElementById('sessionHistory');
            
            if (sessions.length === 0) {
                historyDiv.innerHTML = '<p style="color: #718096; text-align: center;">Noch keine Sessions erfasst</p>';
                return;
            }
            
            const recentSessions = sessions.slice(0, 5);
            historyDiv.innerHTML = recentSessions.map(session => {
                const date = new Date(session.date);
                const formattedDate = date.toLocaleDateString('de-DE') + ' ' + date.toLocaleTimeString('de-DE', {hour: '2-digit', minute:'2-digit'});
                const stars = '★'.repeat(session.quality) + '☆'.repeat(5 - session.quality);
                
                return `
                    <div class="session-entry">
                        <div class="session-date">${formattedDate}</div>
                        <div class="session-details">${session.duration} Min. • ${stars}</div>
                        ${session.notes ? `<div class="session-notes">"${session.notes}"</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        // Zufälliges Zitat anzeigen
        function showRandomQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('dailyQuote').textContent = `"${randomQuote}"`;
        }

        // Initialisierung
        showRandomQuote();
        updateStats();
    </script>
</body>
</html>
